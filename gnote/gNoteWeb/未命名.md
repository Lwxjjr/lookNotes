## gn_menu

### 菜单样式
```HTML
  <a-sub-menu key="2">
	<template #icon><icon-user></icon-user></template>
	<template #title>个人中心</template>
	<a-menu-item key="2-1">个人信息</a-menu-item>
	<a-menu-item key="2-2">收藏列表</a-menu-item>
  </a-sub-menu>
```

### 拆分为组件 `components`：
```HTML
	<a-menu>
      <template v-for="item in menus" :key="item.key">
        <a-menu-item :key="item.key" v-if="item.child.length === 0">
          <template #icon>
            <component :is="item.icon"></component>
          </template>
          {{ item.title }}
        </a-menu-item>  
        <a-sub-menu :key="item.key" v-if="item.child.length !== 0">
          <template #icon>
            <component :is="item.icon"></component>
          </template>
          <template #title>{{ item.title }}</template>
          <a-menu-item v-for="sub in item.child" :key="sub.key">{{
            sub.title
          }}</a-menu-item>
        </a-sub-menu>
      </template>
    </a-menu>
```

写入对应的：
```JS
interface MenuType {
  key: string;
  title: string;
  icon?: Component;
  name?: string;
  child: MenuType[];
}

let menus: MenuType[] = [];

// 1：管理员 0：普通用户
if (1) {
  menus = [
    { key: "1", title: "首页", icon: IconHome, name: "home", child: [] },
    {
      key: "2",
      title: "个人中心",
      icon: IconUser,
      name: "user_center",
      child: [
        {
          key: "2-1",
          title: "个人信息",
          icon: IconHome,
          name: "info",
          child: [],
        },
        {
          key: "2-2",
          title: "收藏列表",
          icon: IconHome,
          name: "coll",
          child: [],
        },
      ],
    },
    {
      key: "3",
      title: "权限管理",
      icon: IconUser,
      name: "auths",
      child: [
        {
          key: "3-1",
          title: "用户列表",
          icon: IconHome,
          name: "users",
          child: [],
        },
        {
          key: "3-2",
          title: "角色列表",
          icon: IconHome,
          name: "roles",
          child: [],
        },
      ],
    },
    {
      key: "4",
      title: "系统管理",
      icon: IconSettings,
      name: "settings",
      child: [
        {
          key: "4-1",
          title: "日志列表",
          icon: IconHome,
          name: "logs",
          child: [],
        },
        {
          key: "4-2",
          title: "图片列表",
          icon: IconHome,
          name: "images",
          child: [],
        },
        {
          key: "4-3",
          title: "站点配置",
          icon: IconHome,
          name: "sites",
          child: [],
        },
      ],
    },
  ];
} else {
  menus = [
    { key: "1", title: "首页", icon: IconHome, name: "home", child: [] },
    {
      key: "2",
      title: "个人中心",
      icon: IconUser,
      name: "user_center",
      child: [
        {
          key: "2-1",
          title: "个人信息",
          icon: IconHome,
          name: "info",
          child: [],
        },
        {
          key: "2-2",
          title: "收藏列表",
          icon: IconHome,
          name: "coll",
          child: [],
        },
      ],
    },
  ];
}
```

### 实现点击跳转

| 参数名             | 描述       | 类型       |
| --------------- | -------- | -------- |
| menu-item-click | 点击菜单项时触发 | string[] |

更改 `a-menu-item` 的 `key = item.name` 来实现跳转
```HTML
<a-menu @menu-item-click="clickMenu">
<a-menu-item :key="item.name" v-if="item.child.length === 0">
```

```JS
function clickMenu(key: string) {
  // 根据传递的 name，解析目标路由的配置
  router.push({ name: key });
}
```

### 点击刷新后应该展开
| 参数名                   | 描述              | 类型       |
| --------------------- | --------------- | -------- |
| default-selected-keys | 默认选中的菜单项 key 数组 | string[] |
| default-open-keys     | 默认展开的子菜单 key 数组 | string[] |

```JS
const route = useRoute();  
const defaultSelectedKeys = ref([route.name]);  
const defaultOpenKeys = ref([route.matched[1].name]);
```
- **`useRoute()`**：获取路由信息
- **`route.name`**：表示当前路由的名称，可以用来确定哪个菜单项应该被选中。
- **`route.matched[1].name`**：表示当前路由的父级路由名称，可以用来确定哪个子菜单应该展开。