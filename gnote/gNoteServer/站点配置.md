## 编写站点配置映射结构体：
```go
// config_site.go
type Site struct {  
    Title    string `json:"title" yaml:"title"`       // 名称  
    Icon     string `json:"icon" yaml:"icon"`         // 首页图标  
    Abstract string `json:"abstract" yaml:"abstract"` // 简介  
    IconHref string `json:"iconHref" yaml:"iconHref"` // 图标链接  
    Href     string `json:"href" yaml:"href"`         // 跳转链接  
    Footer   string `json:"footer" yaml:"footer"`     // 页脚  
    Content  string `json:"content" yaml:"content"`   // 内容  
}
```

## 编写配置结构体：
所有属性分别对应`settings.yaml`的配置
```go
// config/enter.go
  
type Config struct {  
    System System `yaml:"system"`  
    Mysql  Mysql  `yaml:"mysql"`  
    Redis  Redis  `yaml:"redis"`  
    Jwt    Jwt    `yaml:"jwt"` 
    Site   Site   `yaml:"siet"` 
}
```


## 序列化为yaml
```go
// core/init_config.go
func SetYaml() {  
    // 把Config结构体序列化成yaml格式  
    byteData, err := yaml.Marshal(global.Config)  
    if err != nil {  
       global.Log.Errorln(err)  
       return  
    }  
    // 0666权限写入yaml文件（所有人可读写）  
    err = os.WriteFile(yamlPath, byteData, 0666)  
    if err != nil {  
       global.Log.Errorln(err)  
       return  
    }  
}
```

## 站点信息详情
```go
// site_api/site_detail.go
func (SiteApi) SiteDetailView(c *gin.Context) {  
    res.OKWithData(global.Config.Site, c)  
    return  
}
```

## 更新站点信息
```go
// site_api/site_update.go
func (SiteApi) SiteUpdateView(c *gin.Context) {  
    var cr config.Site  
    err := c.ShouldBindJSON(&cr)  
    if err != nil {  
       res.FailWithMsg("参数错误", c)  
       return  
    }  
    updateStructValue(cr, reflect.ValueOf(&global.Config.Site))  
    core.SetYaml()  
    res.OKWithMsg("更新成功", c)  
}  
  
func updateStructValue(data any, oldValue reflect.Value) {  
    v := reflect.ValueOf(data)  
    var updateIndexSlice []int  
    for i := 0; i < v.NumField(); i++ {  
       if !v.Field(i).IsZero() {  
          // 如果不为空，就加入到要更新的列表中  
          updateIndexSlice = append(updateIndexSlice, i)  
       }  
    }  
    t := reflect.TypeOf(data)  
    for _, updateIndex := range updateIndexSlice {  
       // 获取字段名  
       name := t.Field(updateIndex).Name  
       // 获取字段值  
       field := v.Field(updateIndex)  
       // 动态修改  
       oldValue.Elem().FieldByName(name).Set(field)  
    }  
}
```